<div id="content-page" class="content-page" >
  <div class="alert text-white bg-danger" role="alert" *ngIf="iserror" >
    <div class="iq-alert-text">{{message}}</div>
    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
    <i class="ri-close-line"></i>
    </button>
 </div>
  <div class="container-fluid">
     <div class="row">
        <div class="col-sm-12">
              <div class="iq-card">
                    <div class="iq-card-header d-flex justify-content-between bg-success">
                       <div class="iq-header-title">
                          <h4 class="card-title text-white"> <i class="ri-list-ordered"></i> Liste des Transactions</h4>
                       </div>
                    </div>
                    <div class="iq-card-body bg-light">
                      <div class="input-group">
                        <input type="text" class="form-control col-sm-4" [(ngModel)]="searchText" placeholder="Rechercher une transaction"/>
                     </div>
                     <hr/>
                       <div class="table-responsive">
                          <table id="datatable" class="table table-striped table-bordered">
                   <thead>
                       <tr>
                         <th>#</th>
                           <th>Code transaction</th>
                           <th>Code Lecteur</th>
                           <th>N° tel</th>
                           <th>N° Parution</th>
                           <th>Agence</th>
                           <th>Date Op</th>
                           <th>Statut</th>
                       </tr>
                   </thead>
                   <tbody>
                       <tr *ngFor="let t of transactions  | filter:searchText let i = index  " >
                        <td scope="row">{{i+1}}</td>
                           <td>{{t.codetrans}}</td>
                           <td>{{t.codelecteur}}</td>
                           <td>{{t.phone}}</td>
                           <td>{{t.num_parution}}</td>
                           <td>{{t.nomagence}}</td>
                           <td>{{t.dateop}}</td>
                          <td>
                            <span class="badge ml-3 badge-success" *ngIf="t.status_pay==0" >Payé</span>
                            <span class="badge ml-3 badge-danger" *ngIf="t.status_pay!=0" >Impayé </span>
                          </td>
                       </tr>

                   </tbody>

               </table>
                       </div>
                    </div>
                 </div>
        </div>
     </div>

  </div>
</div>
